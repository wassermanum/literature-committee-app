# Компоненты каталога литературы

Этот модуль содержит компоненты для работы с каталогом литературы в системе литературного комитета.

## Компоненты

### LiteratureCatalog
Основной компонент каталога литературы с поиском, фильтрацией и пагинацией.

**Возможности:**
- Отображение списка литературы в виде карточек
- Поиск по названию и описанию
- Фильтрация по категориям, цене и статусу
- Пагинация результатов
- Добавление новой литературы (для админов)
- Редактирование существующей литературы (для админов)

**Пропсы:**
- `onItemSelect?: (literatureId: string) => void` - колбэк при выборе элемента
- `selectable?: boolean` - режим выбора элементов

### LiteratureItem
Карточка отдельной позиции литературы.

**Возможности:**
- Отображение информации о литературе (название, описание, цена, категория)
- Показ остатков на складах с цветовой индикацией
- Кнопки редактирования и выбора
- Адаптивный дизайн с анимациями

**Пропсы:**
- `literature: LiteratureWithInventory` - данные литературы
- `onEdit?: (id: string) => void` - колбэк редактирования
- `onSelect?: (id: string) => void` - колбэк выбора
- `selectable?: boolean` - режим выбора

### LiteratureForm
Форма для создания и редактирования литературы.

**Возможности:**
- Создание новой литературы
- Редактирование существующей литературы
- Валидация полей формы
- Поддержка кастомных категорий
- Управление активностью литературы

**Пропсы:**
- `open: boolean` - состояние открытия диалога
- `literatureId?: string | null` - ID редактируемой литературы
- `onClose: () => void` - колбэк закрытия
- `onSuccess: () => void` - колбэк успешного сохранения

### LiteratureFilters
Компонент фильтрации и поиска литературы.

**Возможности:**
- Поиск по тексту с задержкой
- Фильтрация по категориям
- Фильтрация по диапазону цен
- Переключение активности
- Отображение активных фильтров
- Сворачиваемый интерфейс

**Пропсы:**
- `filters: LiteratureFilters` - текущие фильтры
- `categories: string[]` - доступные категории
- `onFiltersChange: (filters: LiteratureFilters) => void` - колбэк изменения фильтров

## Хуки

### useLiterature
Хук для работы со списком литературы.

**Возможности:**
- Загрузка списка литературы с пагинацией
- Применение фильтров и поиска
- CRUD операции с литературой
- Управление состоянием загрузки и ошибок

### useLiteratureItem
Хук для работы с отдельной позицией литературы.

**Возможности:**
- Загрузка данных литературы по ID
- Управление состоянием загрузки и ошибок

## Типы данных

### Literature
Базовая модель литературы:
```typescript
interface Literature {
  id: string;
  title: string;
  description: string;
  category: string;
  price: number;
  isActive: boolean;
  createdAt: string;
  updatedAt: string;
}
```

### LiteratureWithInventory
Расширенная модель с информацией об остатках:
```typescript
interface LiteratureWithInventory extends Literature {
  inventory: Inventory[];
  totalQuantity: number;
  availableQuantity: number;
}
```

### LiteratureFilters
Параметры фильтрации:
```typescript
interface LiteratureFilters {
  search?: string;
  category?: string;
  isActive?: boolean;
  minPrice?: number;
  maxPrice?: number;
}
```

## Сервисы

### literatureService
Сервис для взаимодействия с API литературы:
- `getLiterature()` - получение списка с фильтрацией
- `getLiteratureById()` - получение по ID
- `createLiterature()` - создание новой
- `updateLiterature()` - обновление существующей
- `deleteLiterature()` - удаление
- `getLiteratureInventory()` - получение остатков
- `getCategories()` - получение списка категорий

## Использование

```tsx
import { LiteratureCatalog } from '../components/literature';

// Основной каталог
<LiteratureCatalog />

// Каталог в режиме выбора
<LiteratureCatalog 
  selectable 
  onItemSelect={(id) => console.log('Selected:', id)} 
/>
```

## Права доступа

- **Просмотр каталога**: все авторизованные пользователи
- **Добавление/редактирование**: только ADMIN и REGION роли
- **Управление остатками**: через отдельные компоненты инвентаря

## Особенности

1. **Цветовая индикация остатков**:
   - Красный: нет в наличии (0)
   - Оранжевый: низкий остаток (< 20)
   - Зеленый: достаточно в наличии (≥ 20)

2. **Категории литературы**:
   - Предустановленные категории для быстрого выбора
   - Возможность создания кастомных категорий

3. **Поиск с задержкой**:
   - Поиск выполняется через 500мс после ввода
   - Предотвращает избыточные запросы к серверу

4. **Адаптивный дизайн**:
   - Сетка карточек адаптируется под размер экрана
   - Мобильная оптимизация интерфейса